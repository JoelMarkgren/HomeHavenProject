@page "/residence/{id:int}"
@inject NavigationManager NavigationManager
@inject IResidenceService ResidenceService

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

<style type="text/css">
	.c-wrapper {
		width: 60%;
		margin: auto;
		box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
		border-radius: 10px;
	}

	.carousel-inner > .item > img,
	.carousel-inner > .item > a > img {
		width: 50%;
		margin: auto;
	}

	.c-image {
		border: solid 1px black;
		border-radius: 10px;
		min-height: 750px;
		max-height: 750px;
	}

	.infobox {
		width: 60%;
		margin: auto;
		margin-top: 10px;
		box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
		border-radius: 10px;
		border: solid 1px gray;
		;
		height: 500px;
		margin-bottom: 30px;
	}

	.resi-title {
		font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
		margin-top: 5px;
		margin-left: 4%;
		font-size: 60px;
		text-decoration: underline;
	}
</style>

@if (Residence != null)
{
	<div class="c-wrapper">
		<div id="carouselExampleFade" class="carousel slide carousel-fade" data-bs-ride="carousel">
			<div class="carousel-inner">
				<div class="carousel-item active c-item">
					<img src="@Residence.PictureListURL[0]" class="d-block w-100 c-image" alt="...">
				</div>

				@for (int i = 1; i < Residence.PictureListURL.Count; i++)
				{
					<div class="carousel-item c-item">
						<img src="@Residence.PictureListURL[i]" class="d-block w-100 c-image" alt="...">
					</div>
				}
			</div>
			<button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleFade" data-bs-slide="prev">
				<span class="carousel-control-prev-icon" aria-hidden="true"></span>
				<span class="visually-hidden">Previous</span>
			</button>
			<button class="carousel-control-next" type="button" data-bs-target="#carouselExampleFade" data-bs-slide="next">
				<span class="carousel-control-next-icon" aria-hidden="true"></span>
				<span class="visually-hidden">Next</span>
			</button>
		</div>
	</div>

	<div class="infobox">
		<div class="resi-title">
			<p>@Residence.Address, @Residence.ResidenceRegion.Township</p>
		</div>
		<div>
			<div>
				<p>test</p>
				<p>test</p>
			</div>
		
				
			
		</div>
	</div>

}






@code {
	[Parameter]
	public int Id { get; set; }

	public Residence Residence { get; set; }
	// public List<string> UrlList { get; set; } = new List<string>();

	protected override async Task OnInitializedAsync()
	{
		Residence = await ResidenceService.GetAsync(Id);
		// UrlList = Residence.PictureListURL;
	}
}
